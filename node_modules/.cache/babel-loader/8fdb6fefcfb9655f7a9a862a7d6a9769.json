{"ast":null,"code":"import _defineProperty from\"/Users/yutong_gao/github-classroom/cs280spring-classroom/meme-generator-RosaGao/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/yutong_gao/github-classroom/cs280spring-classroom/meme-generator-RosaGao/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yutong_gao/github-classroom/cs280spring-classroom/meme-generator-RosaGao/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/yutong_gao/github-classroom/cs280spring-classroom/meme-generator-RosaGao/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yutong_gao/github-classroom/cs280spring-classroom/meme-generator-RosaGao/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yutong_gao/github-classroom/cs280spring-classroom/meme-generator-RosaGao/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yutong_gao/github-classroom/cs280spring-classroom/meme-generator-RosaGao/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Control=/*#__PURE__*/function(_Component){_inherits(Control,_Component);var _super=_createSuper(Control);function Control(props){var _this;_classCallCheck(this,Control);_this=_super.call(this,props);_this.fetchMemes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var memeAPI,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();memeAPI=\"https://api.imgflip.com/get_memes\";_context.prev=2;_context.next=5;return axios.get(memeAPI);case 5:response=_context.sent;data=response.data;_this.props.generateMeme(data.data.memes);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(event){var target=event.target;var name=target.name;_this.setState(_defineProperty({},name,target.value));};_this.state={topText:\"\",bottomText:\"\"};return _this;}_createClass(Control,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"section\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"field has-addons\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input is-large is-fullwidth is-family-monospace\",id:\"top-input\",placeholder:\"Top text\",type:\"text\",name:\"topText\",value:this.state.topText,onChange:this.handleChange})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field has-addons\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input is-large is-fullwidth is-family-monospace\",id:\"bottom-input\",placeholder:\"Bottom text\",type:\"text\",name:\"bottomText\",value:this.state.bottomText,onChange:this.handleChange})})}),/*#__PURE__*/_jsx(\"div\",{className:\"field has-addons\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control is-expanded\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-link is-large is-fullwidth\",id:\"go-btn\",onClick:function onClick(event){_this2.fetchMemes(event);_this2.props.updateText(_this2.state);},children:\"Go!\"})})})]});}}]);return Control;}(Component);export default Control;","map":{"version":3,"sources":["/Users/yutong_gao/github-classroom/cs280spring-classroom/meme-generator-RosaGao/src/components/Control.js"],"names":["React","Component","axios","Control","props","fetchMemes","event","preventDefault","memeAPI","get","response","data","generateMeme","memes","console","log","handleChange","target","name","setState","value","state","topText","bottomText","updateText"],"mappings":"y1CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAGMC,CAAAA,O,kGACF,iBAAYC,KAAZ,CAAmB,yCACf,uBAAMA,KAAN,EADe,MAQnBC,UARmB,0FAQN,iBAAOC,KAAP,4IACTA,KAAK,CAACC,cAAN,GACMC,OAFG,CAEO,mCAFP,uCAIkBN,CAAAA,KAAK,CAACO,GAAN,CAAUD,OAAV,CAJlB,QAICE,QAJD,eAKCC,IALD,CAKQD,QAAQ,CAACC,IALjB,CAML,MAAKP,KAAL,CAAWQ,YAAX,CAAwBD,IAAI,CAACA,IAAL,CAAUE,KAAlC,EANK,iFAQLC,OAAO,CAACC,GAAR,cARK,qEARM,qEAoBnBC,YApBmB,CAoBJ,SAACV,KAAD,CAAW,CACtB,GAAIW,CAAAA,MAAM,CAAGX,KAAK,CAACW,MAAnB,CACA,GAAIC,CAAAA,IAAI,CAAGD,MAAM,CAACC,IAAlB,CACA,MAAKC,QAAL,oBACKD,IADL,CACYD,MAAM,CAACG,KADnB,GAGH,CA1BkB,CAEf,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,EADA,CAETC,UAAU,CAAE,EAFH,CAAb,CAFe,aAMlB,C,0CAsBD,iBAAS,iBACL,mBACI,iBAAS,SAAS,CAAC,SAAnB,wBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,YAAK,SAAS,CAAC,qBAAf,uBACA,cACI,SAAS,CAAC,iDADd,CAEI,EAAE,CAAC,WAFP,CAGI,WAAW,CAAC,UAHhB,CAII,IAAI,CAAC,MAJT,CAKI,IAAI,CAAC,SALT,CAMI,KAAK,CAAE,KAAKF,KAAL,CAAWC,OANtB,CAOI,QAAQ,CAAE,KAAKN,YAPnB,EADA,EADJ,EADJ,cAcI,YAAK,SAAS,CAAC,kBAAf,uBACI,YAAK,SAAS,CAAC,qBAAf,uBACA,cACI,SAAS,CAAC,iDADd,CAEI,EAAE,CAAC,cAFP,CAGI,WAAW,CAAC,aAHhB,CAII,IAAI,CAAC,MAJT,CAKI,IAAI,CAAC,YALT,CAMI,KAAK,CAAE,KAAKK,KAAL,CAAWE,UANtB,CAOI,QAAQ,CAAE,KAAKP,YAPnB,EADA,EADJ,EAdJ,cA2BI,YAAK,SAAS,CAAC,kBAAf,uBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,eACI,SAAS,CAAC,sCADd,CAEI,EAAE,CAAC,QAFP,CAGI,OAAO,CAAE,iBAACV,KAAD,CAAS,CACd,MAAI,CAACD,UAAL,CAAgBC,KAAhB,EACA,MAAI,CAACF,KAAL,CAAWoB,UAAX,CAAsB,MAAI,CAACH,KAA3B,EACH,CANL,iBADJ,EADJ,EA3BJ,GADJ,CA2CH,C,qBAzEiBpB,S,EA6EtB,cAAeE,CAAAA,OAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport PropTypes from \"prop-types\";\n\nclass Control extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            topText: \"\",\n            bottomText: \"\"\n        };\n    }\n    \n    fetchMemes = async (event) => {\n        event.preventDefault();\n        const memeAPI = \"https://api.imgflip.com/get_memes\";\n        try {\n            const response = await axios.get(memeAPI);\n            const data = response.data;\n            this.props.generateMeme(data.data.memes);\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    handleChange = (event) => {\n        let target = event.target;\n        let name = target.name;\n        this.setState({\n            [name]: target.value\n        });\n    }\n\n    render() {\n        return (\n            <section className=\"section\">\n                <div className=\"field has-addons\">\n                    <div className=\"control is-expanded\">\n                    <input\n                        className=\"input is-large is-fullwidth is-family-monospace\"\n                        id=\"top-input\"\n                        placeholder=\"Top text\"\n                        type=\"text\"\n                        name=\"topText\"\n                        value={this.state.topText}\n                        onChange={this.handleChange}\n                    />\n                    </div>\n                </div>\n                <div className=\"field has-addons\">\n                    <div className=\"control is-expanded\">\n                    <input\n                        className=\"input is-large is-fullwidth is-family-monospace\"\n                        id=\"bottom-input\"\n                        placeholder=\"Bottom text\"\n                        type=\"text\"\n                        name=\"bottomText\"\n                        value={this.state.bottomText}\n                        onChange={this.handleChange}\n                    />\n                    </div>\n                </div>\n                <div className=\"field has-addons\">\n                    <div className=\"control is-expanded\">\n                        <button \n                            className=\"button is-link is-large is-fullwidth\" \n                            id=\"go-btn\"\n                            onClick={(event)=>{\n                                this.fetchMemes(event);\n                                this.props.updateText(this.state);\n                            }}>\n                            Go!\n                        </button>\n                    </div>\n                </div>\n            </section>\n        );\n    }\n\n}\n\nexport default Control;\n\nControl.propTypes = {\n    generateMeme: PropTypes.func.isRequired,\n    texts: PropTypes.object.isRequired,\n    updateText: PropTypes.func.isRequired\n}"]},"metadata":{},"sourceType":"module"}